[gd_scene load_steps=37 format=3 uid="uid://bulkbnhholp3f"]

[ext_resource type="Script" uid="uid://7jstni61ay8x" path="res://scenes/enemies/boss/boss.gd" id="1_3jl1k"]
[ext_resource type="Texture2D" uid="uid://cyd12mmn6gdb0" path="res://assets/King_Crab/King_Crab_9.png" id="2_fh3hm"]
[ext_resource type="Texture2D" uid="uid://c5xpu72l3gxsv" path="res://assets/King_Crab/King_Crab_10.png" id="3_xr7g7"]
[ext_resource type="Texture2D" uid="uid://cqf7rppdl0t5w" path="res://assets/King_Crab/King_Crab_11.png" id="4_g3b6p"]
[ext_resource type="Texture2D" uid="uid://bf2xpbo3hfkcy" path="res://assets/King_Crab/King_Crab_12.png" id="5_bpmbe"]
[ext_resource type="Texture2D" uid="uid://c1hlrmwm4tw5k" path="res://assets/King_Crab/King_Crab_13.png" id="6_rhcfd"]
[ext_resource type="Texture2D" uid="uid://darupinmdtse8" path="res://assets/King_Crab/King_Crab_1.png" id="7_p2itk"]
[ext_resource type="Texture2D" uid="uid://diy043qrr5484" path="res://assets/King_Crab/King_Crab_2.png" id="8_e0g6l"]
[ext_resource type="Texture2D" uid="uid://b100xpmlhnqqo" path="res://assets/King_Crab/King_Crab_3.png" id="9_lbx4o"]
[ext_resource type="Texture2D" uid="uid://b2ttvwmwkc406" path="res://assets/King_Crab/King_Crab_4.png" id="10_200mk"]
[ext_resource type="Texture2D" uid="uid://oknrjbum3s3l" path="res://assets/King_Crab/King_Crab_5.png" id="11_w2egv"]
[ext_resource type="Texture2D" uid="uid://dhgpf7qpnmcbp" path="res://assets/King_Crab/King_Crab_6.png" id="12_1rml4"]
[ext_resource type="Texture2D" uid="uid://dpd4ftbhrpme1" path="res://assets/King_Crab/King_Crab_7.png" id="13_5alav"]
[ext_resource type="Texture2D" uid="uid://ddunge53dx5ai" path="res://assets/King_Crab/King_Crab_8.png" id="14_vjhg0"]
[ext_resource type="Texture2D" uid="uid://d3hyl6avqr1ek" path="res://assets/King_Crab/King_Crab_14.png" id="15_rxstk"]
[ext_resource type="Texture2D" uid="uid://b72p5eqaq80ss" path="res://assets/King_Crab/King_Crab_15.png" id="16_8xyni"]
[ext_resource type="Texture2D" uid="uid://b18unk600vxvy" path="res://assets/King_Crab/King_Crab_16.png" id="17_o477l"]
[ext_resource type="Texture2D" uid="uid://dqgoeiwjsfup3" path="res://assets/King_Crab/King_Crab_17.png" id="18_x2jn8"]
[ext_resource type="Texture2D" uid="uid://8x5m5w0fj7c8" path="res://assets/King_Crab/King_Crab_18.png" id="19_63bdl"]
[ext_resource type="Texture2D" uid="uid://v33mwbyrh22o" path="res://assets/King_Crab/King_Crab_19.png" id="20_yq2fy"]
[ext_resource type="Texture2D" uid="uid://ddbax4ue3mef0" path="res://assets/King_Crab/King_Crab_20.png" id="21_jaecq"]
[ext_resource type="Texture2D" uid="uid://c05gr7s3ysoxf" path="res://assets/King_Crab/King_Crab_21.png" id="22_4mcwp"]
[ext_resource type="Texture2D" uid="uid://cky3y4hbssqqu" path="res://assets/King_Crab/King_Crab_22.png" id="23_x0581"]
[ext_resource type="Texture2D" uid="uid://c5ti15323v5te" path="res://assets/King_Crab/King_Crab_23.png" id="24_tobdt"]
[ext_resource type="Texture2D" uid="uid://c5sqexv4tl2cw" path="res://assets/King_Crab/King_Crab_24.png" id="25_vhduq"]
[ext_resource type="Texture2D" uid="uid://csbe8xs87d8to" path="res://assets/King_Crab/King_Crab_25.png" id="26_ylj3j"]
[ext_resource type="Texture2D" uid="uid://cc511q48y56lg" path="res://assets/King_Crab/King_Crab_26.png" id="27_7mawt"]
[ext_resource type="Texture2D" uid="uid://dey7qtyrethq4" path="res://assets/King_Crab/King_Crab_27.png" id="28_vobl5"]
[ext_resource type="Texture2D" uid="uid://dysuk1bfafggm" path="res://assets/King_Crab/King_Crab_28.png" id="29_570o7"]
[ext_resource type="Texture2D" uid="uid://dsh3aotiqihg" path="res://assets/King_Crab/King_Crab_29.png" id="30_cpxqy"]
[ext_resource type="Texture2D" uid="uid://ge1upmdjfbsf" path="res://assets/King_Crab/King_Crab_30.png" id="31_mlv1l"]
[ext_resource type="Script" uid="uid://fghv33c31uqo" path="res://scenes/enemies/boss/moving.gd" id="32_3jl1k"]
[ext_resource type="Script" uid="uid://ccpqtop0obu2w" path="res://scripts/area_component/hit_area_2d.gd" id="32_xr7g7"]
[ext_resource type="Script" uid="uid://cs8woms85hknp" path="res://scenes/enemies/boss/spin.gd" id="33_fh3hm"]

[sub_resource type="SpriteFrames" id="SpriteFrames_4c0df"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_fh3hm")
}, {
"duration": 1.0,
"texture": ExtResource("3_xr7g7")
}, {
"duration": 1.0,
"texture": ExtResource("4_g3b6p")
}, {
"duration": 1.0,
"texture": ExtResource("5_bpmbe")
}, {
"duration": 1.0,
"texture": ExtResource("6_rhcfd")
}],
"loop": false,
"name": &"brake",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("7_p2itk")
}, {
"duration": 1.0,
"texture": ExtResource("8_e0g6l")
}, {
"duration": 1.0,
"texture": ExtResource("9_lbx4o")
}, {
"duration": 1.0,
"texture": ExtResource("10_200mk")
}, {
"duration": 1.0,
"texture": ExtResource("11_w2egv")
}, {
"duration": 1.0,
"texture": ExtResource("12_1rml4")
}, {
"duration": 1.0,
"texture": ExtResource("13_5alav")
}, {
"duration": 1.0,
"texture": ExtResource("14_vjhg0")
}, {
"duration": 1.0,
"texture": ExtResource("2_fh3hm")
}, {
"duration": 1.0,
"texture": ExtResource("3_xr7g7")
}, {
"duration": 1.0,
"texture": ExtResource("4_g3b6p")
}, {
"duration": 1.0,
"texture": ExtResource("5_bpmbe")
}, {
"duration": 1.0,
"texture": ExtResource("6_rhcfd")
}, {
"duration": 1.0,
"texture": ExtResource("15_rxstk")
}, {
"duration": 1.0,
"texture": ExtResource("16_8xyni")
}, {
"duration": 1.0,
"texture": ExtResource("17_o477l")
}, {
"duration": 1.0,
"texture": ExtResource("18_x2jn8")
}, {
"duration": 1.0,
"texture": ExtResource("19_63bdl")
}, {
"duration": 1.0,
"texture": ExtResource("20_yq2fy")
}, {
"duration": 1.0,
"texture": ExtResource("21_jaecq")
}, {
"duration": 1.0,
"texture": ExtResource("22_4mcwp")
}, {
"duration": 1.0,
"texture": ExtResource("23_x0581")
}, {
"duration": 1.0,
"texture": ExtResource("24_tobdt")
}, {
"duration": 1.0,
"texture": ExtResource("25_vhduq")
}, {
"duration": 1.0,
"texture": ExtResource("26_ylj3j")
}, {
"duration": 1.0,
"texture": ExtResource("27_7mawt")
}, {
"duration": 1.0,
"texture": ExtResource("28_vobl5")
}, {
"duration": 1.0,
"texture": ExtResource("29_570o7")
}, {
"duration": 1.0,
"texture": ExtResource("30_cpxqy")
}, {
"duration": 1.0,
"texture": ExtResource("31_mlv1l")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("7_p2itk")
}, {
"duration": 1.0,
"texture": ExtResource("8_e0g6l")
}, {
"duration": 1.0,
"texture": ExtResource("9_lbx4o")
}, {
"duration": 1.0,
"texture": ExtResource("10_200mk")
}],
"loop": true,
"name": &"moving",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("27_7mawt")
}, {
"duration": 1.0,
"texture": ExtResource("28_vobl5")
}, {
"duration": 1.0,
"texture": ExtResource("7_p2itk")
}, {
"duration": 1.0,
"texture": ExtResource("29_570o7")
}],
"loop": false,
"name": &"recover",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("11_w2egv")
}, {
"duration": 1.0,
"texture": ExtResource("12_1rml4")
}, {
"duration": 1.0,
"texture": ExtResource("13_5alav")
}, {
"duration": 1.0,
"texture": ExtResource("14_vjhg0")
}],
"loop": true,
"name": &"spin",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("24_tobdt")
}, {
"duration": 1.0,
"texture": ExtResource("25_vhduq")
}, {
"duration": 1.0,
"texture": ExtResource("26_ylj3j")
}, {
"duration": 1.0,
"texture": ExtResource("27_7mawt")
}],
"loop": true,
"name": &"stun",
"speed": 10.0
}]

[sub_resource type="CircleShape2D" id="CircleShape2D_3jl1k"]
radius = 25.0

[node name="Boss" type="CharacterBody2D"]
script = ExtResource("1_3jl1k")
metadata/_custom_type_script = "uid://s4xx82espxdt"

[node name="Direction" type="Node2D" parent="."]

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="Direction"]
scale = Vector2(-1, 1)
sprite_frames = SubResource("SpriteFrames_4c0df")
animation = &"spin"
frame_progress = 0.249543

[node name="FrontRayCast2D" type="RayCast2D" parent="Direction"]
position = Vector2(45, 0)
target_position = Vector2(20, 0)

[node name="DownRayCast2D" type="RayCast2D" parent="Direction"]
position = Vector2(45, 0)
target_position = Vector2(0, 40)

[node name="LeftDetectRayCast2D" type="RayCast2D" parent="Direction"]
target_position = Vector2(-200, 0)
collision_mask = 2

[node name="RightDetectRayCast2D" type="RayCast2D" parent="Direction"]
target_position = Vector2(200, 0)
collision_mask = 2

[node name="HitArea2D" type="Area2D" parent="Direction"]
collision_layer = 0
collision_mask = 4
script = ExtResource("32_xr7g7")
metadata/_custom_type_script = "uid://ccpqtop0obu2w"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Direction/HitArea2D"]
position = Vector2(0, 3)
shape = SubResource("CircleShape2D_3jl1k")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, 3)
shape = SubResource("CircleShape2D_3jl1k")

[node name="States" type="Node" parent="."]

[node name="Walk" type="Node" parent="States"]
script = ExtResource("32_3jl1k")

[node name="Spin" type="Node" parent="States"]
script = ExtResource("33_fh3hm")
